<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video Upload</title>
</head>
<body>

<form id="uploadForm" enctype="multipart/form-data">
  <input type="file" name="video" accept="video/*" required>
  <button type="submit">Upload Video</button>
</form>

<script>
document.getElementById('uploadForm').addEventListener('submit', function(e) {
  e.preventDefault();

  const formData = new FormData(this);
  fetch('/upload', {
    method: 'POST',
    body: formData,
  })
  .then(response => {
    if (response.ok) return response.blob();
    throw new Error('Network response was not ok.');
  })
  .then(blob => {
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.style.display = 'none';
    a.href = url;
    a.download = 'processed_video.mp4';
    document.body.appendChild(a);
    a.click();
    window.URL.revokeObjectURL(url);
  })
  .catch(error => console.error('Error:', error));
});
</script>

</body>
</html>
